var Competition;(function(n){var t=function(){function n(){}return n.page=0,n.loadSucess=!0,n.prototype.articleClick=function(n){window.location.href="/Competitions/Details/"+$(n).parent().children("#competitionID").val()},n.prototype.ajaxJSONRequest=function(n,t,i,r){$.ajax({type:"POST",url:n,cache:!1,contentType:"application/json",data:JSON.stringify(r),success:t,error:i})},n.prototype.getCompetitionList=function(){if($("#competitionListContainer").children("#competitionTilePreload").remove(),n.page>-1&&n.loadSucess){n.loadSucess=!1,n.page++,$("#competitionListContainer").append($("#competitionTilePreload").clone()),$("#competitionListContainer").children("#competitionTilePreload").css("display","block");var t={pageNumber:n.page-1,pageSize:6},i=function(t){$(t).text()!=="There are no competitions."?(n.loadSucess=!0,$("#competitionListContainer").append(t),$("#competitionListContainer").children("#competitionTilePreload").remove(),$(".articleImageContainer").click(function(){n.prototype.articleClick(this)}),$(".articleTextArea").click(function(){n.prototype.articleClick(this)}),$("body").outerHeight()<$(window).height()&&n.prototype.getCompetitionList()):(this.page===1&&$("#competitionListContainer").append('<div class="competitionTileNoRecord">'+t+"<\/div>"),n.page=-1,$("#competitionListContainer").children("#competitionTilePreload").remove())},r=function(){$("#competitionListContainer").children("#competitionTilePreload").remove()};n.prototype.ajaxJSONRequest("/Competitions/IndexPage",i,r,t)}},n}();n.CompetitionView=t})(Competition||(Competition={})),$(function(){var n=new Competition.CompetitionView;$("#competitionListContainer").append($("#competitionTilePreload").clone()),$("#competitionListContainer").children("#competitionTilePreload").css("display","block"),$("li.active").removeClass("active"),$("#liCompetition").addClass("active"),n.getCompetitionList(),window.onresize=function(){$("body").outerHeight()<$(window).height()&&n.getCompetitionList()},window.onscroll=function(){$(window).scrollTop()==$(document).height()-$(window).height()&&n.getCompetitionList()},$("#searchInput").bind("propertychange keyup input paste",function(){$.trim($("#searchInput").val())===""&&$("#searchInput").attr("value","filter by keyword, title or author")});$("#searchInput").on("focus",function(){$("#searchInput").val()==="filter by keyword, title or author"?$("#searchInput").val(""):$("#searchInput").val()===""&&$("#searchInput").val("filter by keyword, title or author")})})