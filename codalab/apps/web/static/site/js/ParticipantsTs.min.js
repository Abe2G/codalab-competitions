var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},Competition;(function(n){var t=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.saveParticipantStatus=function(t){var i,r,u;if($(t).parent().hasClass("disabledStatus"))return!1;u="",$(t).parent().siblings(".buttonPreloader").show(),$(t).parent().addClass("disabledStatus"),$(t).hasClass("approve")?(i=0,r=$(t).attr("id").replace("A","")):(i=1,r=$(t).attr("id").replace("R",""),u=$("#reason").val());var f={operation:i,participantId:parseInt($.trim(r)),reason:u},e="/api/competitionparticipantstatus/"+$("#competitionID").val(),o=function(n){n.status==2?($(t).parent().siblings("p").text("Participation approved"),$(t).parent().hide(),$(t).parent().siblings(".buttonPreloader").hide()):n.status==3&&($(t).parent().siblings("p").text("Participation rejected"),$(t).parent().parent().append("<p style='color:red'>Reasin:-"+n.reason+"<p>"),$(t).parent().hide(),$(t).parent().siblings(".buttonPreloader").hide())},s=function(){$(t).parent().removeClass("disabledStatus"),$(t).parent().siblings(".buttonPreloader").hide()};n.prototype.ajaxJSONRequest.call(this,e,o,s,f)},t.prototype.showDialog=function(n,i){$(".popupContainer,.grayOverlaper").show(),$(".popupBlock h1").text(i),$("#reason").val(""),$(".cancel").click(function(){t.prototype.hideDialog()}),$("#btnOk").click(function(){t.prototype.hideDialog(),t.prototype.saveParticipantStatus(n)})},t.prototype.hideDialog=function(){$(".popupContainer,.grayOverlaper").hide()},t}(Ajax.AjaxRequest);n.Participants=t})(Competition||(Competition={})),$(function(){var n=new Competition.Participants;$("li.active").removeClass("active"),$("#liMycodeLab").addClass("active"),$(".buttonAccept").click(function(){n.saveParticipantStatus(this)}),$(".buttonReject").click(function(){n.showDialog(this,"Rejection reason")})})