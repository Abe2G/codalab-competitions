{% load codalab_tags %}

{#<h1>Submit or view results</h1>#}

<div align="center" id="submissions_phase_buttons">
    {% for phase in competition.phases.all %}
        {% if phase.is_parallel_parent %}
            {% if phase == active_phase %}
                <!-- active, dont change bg color -->
                <button class="btn active phase-btn-{{ phase.color }} btn-sm"
                        id="submissions_phase_{{ phase.id }}">{{ phase.label }}</button>
            {% else %}
                <button class="btn phase-btn-{{ phase.color }} btn-sm"
                        id="submissions_phase_{{ phase.id }}">{{ phase.label }}</button>
            {% endif %}
{#            <h6>Sub-Phases:</h6>#}
            <br>
            {% for sub_phase in phase.sub_phases.all %}
                {% if sub_phase == active_phase %}
                    <!-- active, dont change bg color -->
                    <button class="btn active phase-btn-{{ sub_phase.color }} btn-xs"
                            id="submissions_phase_{{ sub_phase.id }}">{{ sub_phase.label }}</button>
                {% else %}
                    <button class="btn phase-btn-{{ sub_phase.color }} btn-xs"
                            id="submissions_phase_{{ sub_phase.id }}">{{ sub_phase.label }}</button>
                {% endif %}
            {% endfor %}
        {% elif not phase.parallel_parent and not phase.parent %}
            {% if phase == active_phase %}
                <!-- active, dont change bg color -->
                <button class="btn active phase-btn-{{ phase.color }} btn-sm"
                        id="submissions_phase_{{ phase.id }}">{{ phase.label }}</button>
            {% else %}
                <button class="btn phase-btn-{{ phase.color }} btn-sm"
                        id="submissions_phase_{{ phase.id }}">{{ phase.label }}</button>
            {% endif %}
        {% endif %}
    {% endfor %}
</div>

<div class="competition_submissions">
</div>
